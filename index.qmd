---
title: "Positron入門!"
subtitle: "Rユーザーのための次世代IDE"
author: "寺井雅人（愛知工科大学）"
format:
  revealjs:
    theme: style.scss
    slide-number: c/t
    #transition: fade
    background-transition: fade
    center: false
    progress: true
    navigation-mode: linear
    footer: "Masato Terai (Aichi Univ. of Technology)"
    width: 1200
    height: 800
    preview-links: auto
    chalkboard: 
      buttons: false
title-slide-attributes:
  data-background-image: title_image.png
  data-background-size: contain
  data-background-opacity: "0.15"
---

# 追加したいこと

- RStudioとPositronのレイアウトの違いを、図で作成してみる

# 講師プロフィール

- 大学教員（助教）

- Rの使用は、データの成形、分析が主

    - 昨夏くらいからRStudioからPositronへ完全移行

- 北海道は31年の人生で初

# 想定している聴衆の方

- Rをメインで使うもしくはR時々Pythonの方

- パッケージ開発というより、データ分析などを主な用途としている方

# 今回の内容
- 後で目次を挿入

- AIアシストやrenv、コマンドラインGitは触れない
    - AIアシストのおすすめ記事：[Positron Assistant: データサイエンティスト向けのAIアシスタント機能](https://zenn.dev/uribo/articles/7dbc83e4bbfcc0)

# Positronとは

- RとPythonを"First-class"言語とするVisual Studio Codeに似ている統合開発環境

    - Posit社（RStudioを開発した）が開発中の**次世代**統合開発環境

## RStudioから乗り換えるべき？？

- RStudioが消えるわけではない（開発が止まったりするわけではない）
    
    - Positronよりも、RStudio（10年以上の歴史）の方がより安定したソフトウェア

- R, RStudioにこれから触れる人は、Positronがお勧めらしい

    - 既にRStudioをガンガン使っていて、満足しているならRStudioのままでOK!

## こんな人にお勧めかも（by 公式）
- VS Code を使ってデータ分析（Python や R）をしているが、試しにコードを動かしたり、変数やデータを中身まで確認したり、グラフを操作したり、Shiny・Streamlit・FastAPI のようなデータアプリを作ったりするには、もう少し専用の便利機能がほしい人。

- JupyterLab やオンラインのノートブック環境でデータ分析（Python や R）をしていて、ノートブックは使い続けたいが、もっと高機能で本格的な IDE を使いたい人。

- **RStudio を使っていて、IDE をもっと自分好みにカスタマイズしたり、機能を拡張したりしたい人。**

- Python や R だけでなく、Rust、C++、JavaScript、Lua などの言語も使って日常的にデータ分析やパッケージ開発をしている人。

- データ分析に特化した強力な AI 機能を、モダンで拡張性の高い IDE の中で使いたい人。

## **RStudio を使っていて、IDE をもっと自分好みにカスタマイズしたり、機能を拡張したりしたい人。**

- カスタマイズ

- 機能を拡張

    - 拡張機能

    - Gitコマンド

    - AIアシスト

## こんな人にお勧めかも（by 寺井）
- RStudioでRを触り始めた人

## こんな人にお勧め**しない**かも（by 寺井）

- 画面に様々な機能が表示されている

- RStudioに慣れかけ始めた人

# RStudioとの主な違い
- Rprojがない！

    - フォルダ = プロジェクト

    - 詳しい解説：[The Rproj File](https://positron.posit.co/migrate-rstudio-rproj.html)

- RMarkdown、Quartoの書き出しが可能だが、いわゆる"Knit"ボタンがない

    - qmdファイルの場合、"Preview"や"Render on Save"で書きだす

    - Rmdファイルの場合、"Preview"に、"Render Document With R Markdown"が表示される

- 現時点では、RStudioとは異なり、実行結果は、コンソールペインでしか確認できない

    ```However, we are actively enhancing our Positron-native notebook UI that will provide inline outputs for Python or R sessions.```

- Rがクラッシュしても、Positron自体は生き残ることが多い

- バージョンの切り替えも、コンソールの再起動だけでよい

# Search Bar

# AI-Powered Data Science
- Positronは、RStudioに比べ、より多くのAIサポートを受けることができる

    - **Databot**機能など、ノーコードでの分析が可能に

        - [公式Youtube（英語）](https://youtu.be/TrN-FMcOsOA?si=2YYNA2_Lv35QXwyD)

# つまり

- RStudioの機能をそのままに、新たな機能を拡張したわけではない

    - RStudioにしかない機能もあったりする

- RStudio: Rに特化した完成度の高い開発環境

    - RだけならRStudio

- Positron：多言語の将来性のある開発環境

    - R + Python、今後は多言語もならPositron

# とりあえず触ってみよう

## Positronのインストール

- Rのインストールも忘れないように！

    - R バージョン 4.2以上が必要

- それぞれのOSに合うインストーラーを選ぶ

    - [リンク](https://positron.posit.co/install.html)

## UIの外観

- 画面構成：Editor, Console, Plots, Files

## レイアウト

![from https://positron.posit.co/](https://positron.posit.co/images/user-interface-for-rstudio-migration.jpeg)

## レイアウトの指定
- Stacked Layout:デフォルト

- Side-By-Side Layout：RStudioにより近い

- Notebook Layout

- Assistant Layout


## 便利なデータの確認機能

- ```mtcars```の中身をVARIABLESで確認

    - データの分布や、欠損値の割合なども確認できる

```{markdown}
dat <- mtcars
```

## 作成した図を確認可能

```{markdown}
plot(dat$mpg)
boxplot(dat$mpg, dat$cyl)
```

## Git操作
- サイドバーの上から3つ目がGit操作

    - RStudioに比べ、クリック操作で行えるコマンドがかなり増えた（VS Codeより）

    - GitHubとの連携もより簡単に（なった気がする）

## テーマ・フォントの変更
- テーマの変更：左下の⚙をクリック → [Themes] → [Color Theme]

    - RStudioよりも選択肢が少ない

- フォントの大きさの変更：左下の⚙をクリック → [Settings] → [Text Editor] → [Font Size]

# R MarkdownとQuarto

## 概要

- ```Quarto is a multi-language, next generation version of R Markdown from RStudio, with many new features and capabilities.```

    - 様々なプログラム言語に対応（e.g., R、Python、Julia）

- PositronとQuarto、RStudioとR Markdown

    - R MarkdownはRStudio内で完結するのが快適。QuartoはVSコードやJupyter、PositronでもOK!

- Rしか使わないのであれば、R MarkdownのままでOK！

    - チャンクの書き方など微妙に違いはあるが、比較的スムーズに移行できるので、お勧めします！

# 小ネタ
- ミニマップ機能（全体を俯瞰）

    - スクロールバーで右クリック → [Minimap]

- Airでコードを綺麗に成形

    - Positronに既に備わっているExtensions

# まとめ

## Positronがお勧めな理由

### 1. データ分析のための補助機能

- データの分布を一覧で出せる

## Positronがお勧めな理由

### 2. Git操作がより簡単に
- Gitが使いやすい。RStudioよりGUI操作の選択肢が多い

- Githubとの連携が楽

- GitやGithubをこれから勉強したい方へ

    - [RStudioとGitの連携によるバージョン管理](https://www.jstage.jst.go.jp/article/methodologysig/17/0/17_17.3/_article/-char/ja/)

    - [RStudio ユーザーのための GitHub 入門](https://www.jstage.jst.go.jp/article/methodologysig/18/0/18_18.2/_article/-char/ja/)

## Positronがお勧めな理由

### 3. AIのアシストをより受けられる
- Databot機能などを活用すればほぼノーコードで分析が可能

- 個人情報などの管理などには気を付けて！

## Positronがお勧めでない理由

- RStudioに比べるとまだ不安定

- RStudioに慣れた人は最初戸惑うかも

- R言語だけならRStudioで十分

## わさもん
- 熊本弁：新しいもの好き

    - あん人はわさもんたい（あの人は新しいもの好きだね）

## Positronに移行しないとだめ！とは思わない

- 個人的に使っている理由として、

    - Positronの将来に賭けている
    
    - アーリーアダプター（Positron、Quarto）になりたい

    - データの外観機能が気に入っている

    - Pythonをもっと触っていきたい

# 参考資料
- [【AI全部載せできるRのデータ分析環境はこれ】Positron Assistantの導入ガイド](https://note.com/mitti1210/n/n87a4ff6fc9c3)